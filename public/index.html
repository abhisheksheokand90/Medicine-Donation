<!doctype html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Medicine-Donation</title>
  <link rel="icon" href="pics/icon.png" type="image/x-icon">

  <link rel="stylesheet" href="css/index.css">

  <script src="js/jquery-1.8.2.min.js"></script>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">

  <style>
    label {
      margin-top: 10px;
      margin-left: 5px;
    }
  </style>

  <!-- Email OTP Verification in Signup Modal -->
  <script>


    $(document).ready(function () {
      $("#sendOtpBtn").click(function () {
        const email = $("#txtSignupEmail").val();
        if (!email) return alert("Please enter your email first.");

        $.get("/send-otp?email=" + email, function (response) {
          $("#otpMsg").text(response);
        });
      });

      $("#verifyOtpBtn").click(function () {
        const email = $("#txtSignupEmail").val();
        const otp = $("#otpCode").val();
        if (!otp) return alert("Please enter the OTP.");

        $.get("/verify-otp?email=" + email + "&otp=" + otp, function (response) {
          $("#otpMsg").text(response);
          if (response.includes("OTP Verified")) isOtpVerified = true;
        });
      });

      $("#btnSavaSignup").click(function () {
        if (!isOtpVerified) {
          alert("Please verify your email before signing up.");
          return;
        }

        const email = $("#txtSignupEmail").val();
        const pwd = $("#txtSignupPwd").val();
        const utype = $("#userType").val();

        const url = "/savesignup?txtSignupEmail=" + email + "&txtSignupPwd=" + pwd + "&userType=" + utype;
        $.get(url, function (result) {
          alert(result);
        });
      });







      $("#btnSavaSignup").click(function () {

        var url = "/savesignup?txtSignupEmail=" + $("#txtSignupEmail").val() + "&txtSignupPwd=" + $("#txtSignupPwd").val() + "&userType=" + $("#userType").val();
        $.get(url, function (resutl) {
          alert(result);
        })
      })

      // --------------------------------------------------------------------------------------------------------------
      /*
            $("#btnSaveLogin").click(function(){
      
              var url="/checklogindetails?txtLoginEmail="+$("#txtLoginEmail").val()+"&txtLoginPwd="+$("#txtLoginPwd").val();
              $.get(url,function(result){
                alert(result);
              })
            })
      
      
      */

      $("#btnSaveLogin").click(function () {

        var url = "/checklogindetails?txtLoginEmail=" + $("#txtLoginEmail").val();
        $.getJSON(url, function (respJSONary) {

          // alert(JSON.stringify(respJSONary));
          if (respJSONary.length == 0)
            alert("Invalid Id");
          else {
            if (respJSONary[0].status == 0)
              alert("User Blocked");
            else
              if (respJSONary[0].pwd != $("#txtLoginPwd").val())
                alert("Wrong Password");
              else {

                localStorage.setItem("activeUser", $("#txtLoginEmail").val());

                // alert(respJSONary[0].utype);
                if (respJSONary[0].utype == "donor") {
                  window.location.replace("/dash-donor.html");
                }


                if (respJSONary[0].utype == "needy") {
                  window.location.replace("/dash-needy.html");
                }

              }
          }
        })
      })
    })





  </script>

</head>

<body>

  <!-- ----------------------navbar----------------------- -->

  <nav class="navbar bg-primary fixed-top">
    <div class="m-2 ">
      <span><img src="pics/icon.png" alt=""
          style="position: relative; margin-top:-20px; margin-right: 10px; margin-left: 100px; border:10cm ; width: 40px; height: 40px;"></span>
      <span class="navbar-brand mb-0 h1" style="color: white; font-size: 30px;">Medicine-Donation</span>
    </div>

    <div style=" margin-right: 40px;">
      <form class="container-fluid gap-3 d-flex justify-content-end">
        <button type="button" id="btnSignup" class="btn btn-primary btn-outline-light border border-3 " data-bs-toggle="modal"
          data-bs-target="#signupModal">Sign Up</button>
        <button type="button" id="btnLogin" class="btn btn-outline-light border border-3" data-bs-target="#loginModal"
          data-bs-toggle="modal">Login</button>
      </form>
    </div>
  </nav>


 <!-- Modal -->
  <div class="modal fade" id="loginModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">LOGIN</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form class="row g-3">
            <div class="col-md-11">
              <label for="txtLoginEmail" class="form-label">Email</label>
              <input type="email" class="form-control" id="txtLoginEmail">
            </div>






            <div class="col-md-11">
              <label for="txtLoginPwd" class="form-label">Password</label>
              <input type="password" class="form-control" id="txtLoginPwd">
            </div>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">BACK</button>
          <button type="button" class="btn btn-primary" id="btnSaveLogin">LOGIN</button>
        </div>
      </div>
    </div>
  </div>






  <!-- Modal -->
  <div class="modal fade" id="signupModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1 class="modal-title fs-5" id="exampleModalLabel">SIGN UP</h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form class="row g-3">
            <div class="col-md-11">
              <label for="txtSignupEmail" class="form-label">Email</label>
              <div class="input-group mb-2">
                <input type="email" class="form-control" id="txtSignupEmail">
                <button class="btn btn-outline-secondary" type="button" id="sendOtpBtn">Send OTP</button>
              </div>
            </div>






            <div class="col-md-11">
              <label for="otpCode" class="form-label">Verify OTP</label>
              <div class="input-group mb-2">
                <input type="text" class="form-control" id="otpCode" placeholder="Enter OTP here">

                <button class="btn btn-outline-success" type="button" id="verifyOtpBtn">Verify OTP</button>
              </div>
              <div id="otpMsg" class="form-text text-danger"></div>
            </div>





            <div class="col-md-11">
              <label for="txtSignupPwd" class="form-label">Create Password</label>
              <input type="password" class="form-control" id="txtSignupPwd">
            </div>

            <div class="col-md-11">
              <label for="userType" class="form-label">User</label>
              <select id="userType" class="form-select">
                <option selected>Choose...</option>
                <option value="donor">Donor</option>
                <option value="needy">Needy</option>
              </select>
            </div>



        </div>




        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">BACK</button>
          <button type="button" class="btn btn-primary" id="btnSavaSignup">SIGNUP</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ----------------------------- carousel ------------------------------------ -->

  <div id="carouselExampleCaptions" class="carousel slide border border-3 mt-2" data-bs-ride="false">
    <div class="carousel-indicators">
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
        aria-current="true" aria-label="Slide 1"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
        aria-label="Slide 2"></button>
      <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
        aria-label="Slide 3"></button>
    </div>
    <div class="carousel-inner">
      <div class="carousel-item active">
        <img src="pics/img1.jpg" class="d-block w-100" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <h1>Happy Faces Of Donor & Needy</h2>
            <!-- <p>Some representative placeholder content for the first slide.</p> -->
        </div>
      </div>
      <div class="carousel-item">
        <img src="pics/img2.jpg" class="d-block w-100" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <h1>Happy Faces Of Donor & Needy</h2>
            <!-- <p>Some representative placeholder content for the second slide.</p> -->
        </div>
      </div>
      <div class="carousel-item">
        <img src="pics/img5.png" class="d-block w-100" alt="...">
        <div class="carousel-caption d-none d-md-block">
          <!-- <h5>Third slide label</h5>
          <p>Some representative placeholder content for the third slide.</p> -->
        </div>
      </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Next</span>
    </button>
  </div>

  <!-- <div class="mt-1">
    <!-- <div  width="100%" style="text-align: center; color: white; background-color: rgb(29, 29, 250); border: 5px; height: 50%;">
      <h2>Our Services</h2>
    </div> 

    <div class="card border border-3" style="height:200px ;">
      <center><div class="card-body bg-primary " style="height:70px ;">
        <span  style="color: white;  font-size: 30px;">Our Services</span>
      </div></center>
    </div>




  </div> -->

  <!-- -------------------------- our services ----------------- -->

  <nav class="navbar bg-light opacity-75 border border-1 border-primary">
    <div class="container-fluid justify-content-center">
      <span class="navbar-brand mb-0 h1" style="font-size: 30px; color: blue; ">Our Services</span>
    </div>
  </nav>


  <div class="container d-flex justify-content-evenly mt-5">
    <div class="card border border-1 border-primary" style="width: 18rem;">
      <center><img src="pics/don med.png" height="200px" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Donate Medicine</h5>
          <p class="card-text">When we give cheerfully and accept gratefully, everyone is blessed.</p>
          <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
        </div>
      </center>
    </div>

    <div class="card border border-1 border-primary" style="width: 18rem;">
      <center><img src="pics/get med.png" height="200px" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Get Medicine For Free</h5>
          <p class="card-text">Whenever the art of Medicine is loved, there is also a love of humanity</p>
          <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
        </div>
      </center>
    </div>

    <div class="card border border-1 border-primary" style="width: 18rem;">
      <center><img src="pics/mission.png" height="200px" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">Mission</h5>
          <p class="card-text">Our mission is to help needy and we urge to donate extra resources for them</p>
          <!-- <a href="#" class="btn btn-primary">Go somewhere</a> -->
        </div>
    </div>
    </center>
  </div>











  <nav class="navbar bg-primary opacity-75" style="height: 100px; margin-top: 50px;">
    <div class="container-fluid justify-content-center" style="margin-top: -5px;">
      <span class="navbar-brand mb-0 h1" style="font-size: 10px; color: white;">
        <p>
          <center>
            <h6>copyright <i class="fa fa-copyright fa-1x" aria-hidden="true"></i> 2020-2024</h6>
            <!-- <span style="font-size: 10px; margin-top: -15px;"> -->
            About | Privacy Policy | Cookie Policy | Update Consent | Terms & Conditions | Editorial Guidelines |
            Affiliate Disclosure | Contact Us
            <!-- </span> -->
            <h6>
              <i class="fa fa-facebook-official fa-1x" aria-hidden="true"></i>
              <i class="fa fa-instagram fa-1x" aria-hidden="true"></i>
              <i class="fa fa-twitter-square fa-1x" aria-hidden="true"></i>
              <i class="fa fa-linkedin-square fa-1x" aria-hidden="true"></i>
            </h6>


          </center>
        </p>
      </span>
    </div>
  </nav>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
    crossorigin="anonymous"></script>
</body>

</html>